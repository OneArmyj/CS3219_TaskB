(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(2),s=a.n(r),c=a(23),i=a.n(c),u=(a(14),a(4)),o=a(24),l=a.n(o).a.create({baseURL:"https://intense-reef-03949.herokuapp.com",responseType:"json"}),d=a(9),j=a.n(d),b=a(11),f=a(52),g=a(53),h=function(e){var t=e.guitarists,a=e.setGuitarists,s=Object(r.useState)(""),c=Object(u.a)(s,2),i=c[0],o=c[1],d=Object(r.useState)(""),h=Object(u.a)(d,2),O=h[0],p=h[1],m=Object(r.useState)(""),x=Object(u.a)(m,2),v=x[0],N=x[1],w=Object(r.useState)(""),k=Object(u.a)(w,2),y=k[0],S=k[1],G=Object(r.useState)(""),C=Object(u.a)(G,2),q=C[0],W=C[1],A=Object(r.useState)("add"),E=Object(u.a)(A,2),F=E[0],B=E[1],D=Object(r.useState)(""),J=Object(u.a)(D,2),T=J[0],I=J[1],L=function(){var e=Object(b.a)(j.a.mark((function e(n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),"add"!==F){e.next=6;break}return e.next=4,l.post("/api/guitarists",{name:i,guitar:v,band:y,age:q}).then((function(e){l.get("/api/guitarists").then((function(e){a(e.data.data)}))})).catch((function(e){return console.warn(e)}));case 4:e.next=13;break;case 6:if(0!==t.filter((function(e){return e.name===i})).length){e.next=10;break}I("Guitarists does not exist, hence cannot be edited."),e.next=13;break;case 10:return r=i.replace(/\W/g,"%20"),e.next=13,l.put("/api/guitarists/".concat(r),{name:i,guitar:v,band:y,age:q}).then((function(e){l.get("/api/guitarists").then((function(e){a(e.data.data),I("")}))})).catch((function(e){return console.warn(e)}));case 13:o(""),p(""),N(""),S(""),W("");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(f.a,{className:"pt-3",onSubmit:L,style:{width:"40%",margin:"auto",textAlign:"left"},children:["add"===F?Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name of guitarist to add"}),Object(n.jsx)("input",{className:"form-control",autoFocus:!0,required:!0,value:i,onChange:function(e){return o(e.target.value)}})]}):Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name of guitarist to edit"}),Object(n.jsx)("input",{className:"form-control",autoFocus:!0,required:!0,value:i,onChange:function(e){return o(e.target.value)}}),Object(n.jsx)("p",{style:{color:"red"},children:T})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Name of new guitarist"}),Object(n.jsx)("input",{className:"form-control",required:!0,value:O,onChange:function(e){return p(e.target.value)}})]})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"What is his signature guitar?"}),Object(n.jsx)("input",{className:"form-control",required:!0,value:v,onChange:function(e){return N(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"What is his band?"}),Object(n.jsx)("input",{className:"form-control",required:!0,value:y,onChange:function(e){return S(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"What is his age?"}),Object(n.jsx)("input",{className:"form-control",required:!0,value:q,onChange:function(e){return W(e.target.value)}})]}),Object(n.jsxs)("div",{className:"form-group d-flex justify-content-between",children:["add"===F?Object(n.jsx)(g.a,{type:"submit",children:"Add Guitarist"}):Object(n.jsx)(g.a,{type:"submit",children:"Edit Guitarist"}),Object(n.jsx)(g.a,{onClick:function(){I(""),B("add"===F?"edit":"add")},children:"Toggle between add or edit"})]})]})},O=a(54),p=function(e){var t=e.name,a=e.guitar,r=e.band,s=e.age,c=e.setGuitarists,i=function(){var e=Object(b.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.replace(/\W/g,"-"),e.next=3,l.delete("/api/guitarists/".concat(a)).then((function(e){l.get("/api/guitarists").then((function(e){return c(e.data.data)}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.jsx)(O.a,{className:"py-3",children:Object(n.jsxs)("div",{children:["Guitarist: ",t,", Guitar: ",a,", Band: ",r,", age: ",s," \xa0",Object(n.jsx)(g.a,{className:"btn-sm",color:"danger",onClick:i,children:"Delete guitarist"})]})})},m=function(){var e=Object(r.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1];return Object(r.useEffect)((function(){l.get("/api/guitarists").then((function(e){s(e.data.data)}))}),[]),Object(n.jsxs)("div",{style:{textAlign:"center"},children:[a.map((function(e){return Object(n.jsx)(p,{name:e.name,guitar:e.guitar,band:e.band,age:e.age,setGuitarists:s},e._id)})),Object(n.jsx)(h,{guitarists:a,setGuitarists:s})]})};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(m,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.2cd36bc9.chunk.js.map